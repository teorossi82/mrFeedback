!function(){"use strict";function a(a,c){var d={restrict:"E",link:function(b,d,e){var f='<div ng-if="mrFeedback.feedback.modal" class="mrFeedbackLayout"></div><div class="mrFeedback" ng-class="mrFeedback.theme"><div class="box-feedback"><div class="box-left"><i class="fa fa-exclamation-triangle"></i></div><div class="box-content"><div class="box-header"><div class="title">{{mrFeedback.feedback.title}}</div><div class="button-close" ng-if="mrFeedback.feedback.close" ng-click="mrFeedback.close()"><i class="fa fa-times"></i></div></div><div class="box-body"><div class="box-header-body">{{mrFeedback.feedback.title}}</div><div class="box-msg-body" ng-bind-html="mrFeedback.feedback.msg"></div></div><div class="buttons-feedback"><div class="box-btnAction" ng-if="mrFeedback.feedback.btnAction"><div ng-repeat="button in mrFeedback.feedback.btnAction" class="button-feedback" style="{{button.btnStyle}}" ng-click="mrFeedback.action($index)"><i ng-if="button.icon" class="fa {{button.icon}}"></i>{{button.text}}</div></div><div class="button-feedback button-close" ng-if="mrFeedback.feedback.close" ng-click="mrFeedback.close()">{{mrFeedback.feedback.closeText || "Close"}}</div></div></div></div></div>',g=function(){var a=b.mrFeedback.feedback&&b.mrFeedback.feedback.template?b.mrFeedback.feedback.template:f;d.html(a).show(),c(d.contents())(b),h()},h=function(){function q(a){g=a.clientY-e,f=a.clientX-c,s(),j&&j(a)}function r(b){a.unbind("mousemove",q),a.unbind("mouseup",r),i&&i(b)}function s(){k&&(f<k.left?f=k.left:f>k.right-l&&(f=k.right-l),g<k.top?g=k.top:g>k.bottom-m&&(g=k.bottom-m)),o.css({top:g+"px",left:f+"px"})}var c,e,h,i,j,k,f=0,g=0,l=d[0].offsetWidth,m=d[0].offsetHeight;if(b.dragOptions){h=b.dragOptions.start,j=b.dragOptions.drag,i=b.dragOptions.stop;var n=b.dragOptions.container;n&&(k=document.getElementById(n).getBoundingClientRect())}var o=d.find(".mrFeedback"),p=d.find(".box-content .box-header");p.on("mousedown",function(b){b.preventDefault(),c=b.clientX-o[0].offsetLeft,e=b.clientY-o[0].offsetTop,a.on("mousemove",q),a.on("mouseup",r),h&&h(b)})};g()},scope:{feedback:"="},replace:!0,controller:b,controllerAs:"mrFeedback",bindToController:!0};return d}function b(a,b,c,d){var e=this,f=e.feedback&&e.feedback.animation?"animation-"+e.feedback.animation:"animation-fade";e.close=function(){if(e.feedback.fnClose){var a=e.feedback.fnClose.params;e.feedback.fnClose.func.apply(this,a)}i()},e.action=function(a){var b=e.feedback.btnAction[a].params;e.feedback.btnAction[a].func.apply(this,b),e.feedback.autoClose&&i()};var f=c.defaultAnimation,g=function(){f=e.feedback&&e.feedback.animation?"animation-"+e.feedback.animation:"animation-"+f,b.find(".mrFeedback").addClass("mrFeedback-show "+f),d(function(){b.find(".mrFeedback").addClass(f+"-show")},50)},h=function(){f="animation-none",b.find(".mrFeedback").addClass("mrFeedback-show "+f),d(function(){b.find(".mrFeedback").addClass(f+"-show"),j()},50)},i=function(){b.find(".mrFeedback").removeClass(f+"-show"),d(function(){b.find(".mrFeedback").removeClass("mrFeedback-show "+f),f=c.defaultAnimation,b.parent()[0].remove()},350)},j=function(){var a=b.find(".mrFeedback"),c=angular.element(a).height(),d=(window.innerHeight-c)/2;angular.element(a).css("top",d+"px")};a.$watch("mrFeedback.feedback",function(a,b){a?(e.theme=e.feedback&&e.feedback.theme?e.feedback.theme:c.defaultTheme,e.feedback.modal?h():g()):i()}),a.$watch("mrFeedback.feedback.delete",function(a,b){a&&a===!0&&i()})}angular.module("mrFeedbackMdl",["ngSanitize"]).provider("mrFeedbackConfig",function(){var a=[{os:"Windows",theme:"windows10"},{os:"Mac;",theme:"mac"},{os:"iPad;",theme:"ios"},{os:"iPhone;",theme:"ios"},{os:"Android",theme:"android"}],b=function(){for(var b="mac",c=0;c<a.length;c++)if(navigator.userAgent.indexOf(a[c].os)>-1)return b=a[c].theme;return b};this.defaultTheme=b(),this.defaultAnimation="fade",this.$get=function(){return this}}).provider("$uiMrFeedback",function(){this.$get=["$compile","$log","$timeout","$document","$rootScope",function(a,b,c,d,e){var f=e,g=f.$new(),h=0;return this.open=function(c){if(!c)return b.error("mrFeedback: An object with title and msg field is mandatory to create the box");var d=c.appendTo&&$(c.appendTo).length>0?c.appendTo:"body";$(d).append("<mr-feedback-content-"+h+" class='mrFeedbackContent'></mr-feedback-content>"),g["instancesFeedback_"+h]=c;var e=g["instancesFeedback_"+h];e.remove=function(){this.delete=!0};var f='<mr-feedback feedback="instancesFeedback_'+h+'"></mr-feedback>',i=$("mr-feedback-content-"+h).append(f);return a(i)(g),h++,e},this}]}).directive("mrFeedback",a)}();